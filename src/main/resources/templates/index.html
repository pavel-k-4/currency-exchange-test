<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Конвертер</title>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/style.css(v=${#dates.createNow()})}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>
</head>
<body>
    <main>
        <section class="form-group">
            <h1>Конвертер</h1>
            <div class="action-line">
                <div class="action">
                    <div>
                        <label for="initial-cur">Исходная валюта:</label>
                        <select name="initial-cur" id="initial-cur" class="form-control ">
                            <option th:each="cur : ${currencies.entrySet()}"
                                    th:value="${cur.key}"
                                    th:text="${cur.value}">USD (Доллар США)</option>
                        </select>
                    </div>
                    <div>
                        <label for="initial-val">Исходная сумма:</label>
                        <input type="text" id="initial-val" class="form-control">
                    </div>
                </div>
                <div class="action">
                    <div>
                        <label for="target-cur">Целевая валюта:</label>
                        <select name="target-cur" id="target-cur" class="form-control">
                            <option th:each="cur : ${currencies.entrySet()}"
                                    th:value="${cur.key}"
                                    th:text="${cur.value}">RUB (Российский рубль)</option>
                        </select>
                    </div>
                    <div>
                        <label for="target-val">Результат: </label>
                        <input type="text" id="target-val" class="form-control" disabled>
                    </div>
                </div>
            </div>
            <div>
                <div id="button-convert" class="btn-secondary btn-lg">Конвертировать</div>
            </div>
        </section>
        <section>
            <h2>История</h2>
            <table id="history-table" class="table table-bordered">
                <thead class="thead-light">
                    <tr>
                        <th>Исходная валюта</th>
                        <th>Целевая валюта</th>
                        <th>Исходная сумма</th>
                        <th>Целевая сумма</th>
                        <th>Дата</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="entry : ${history}">
                        <td th:text="${entry.getInitialCurrency().toSimpleString()}">USD (Доллар США)</td>
                        <td th:text="${entry.getTargetCurrency().toSimpleString()}">RUB (Российский рубль)</td>
                        <td th:text="${T(pk.test.exchange.util.BigDecimalUtils).format(entry.getInitialValue())}">1</td>
                        <td th:text="${T(pk.test.exchange.util.BigDecimalUtils).format(entry.getTargetValue())}">27.63</td>
                        <td th:text="${#temporals.format(entry.getDate(), 'dd.MM.yyyy')}">12.06.2007</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
    <script th:src="@{/js/script.js(v=${#dates.createNow()})}"></script>
    <script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}"></script>
    </body>
</html>